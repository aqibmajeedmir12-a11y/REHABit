@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap');

:root{
  --bg:#0a0a0f;--surface:#12121a;--surface2:#1a1a2e;--surface3:#1e1e30;
  --border:rgba(255,255,255,.07);--text:#f0f0ff;--muted:#8888aa;
  --purple:#7c3aed;--purple-light:#a855f7;--blue:#3b82f6;--cyan:#06b6d4;
  --green:#22c55e;--amber:#f59e0b;--pink:#ec4899;--red:#ef4444;
  --grad1:linear-gradient(135deg,#7c3aed,#3b82f6);
  --grad2:linear-gradient(135deg,#06b6d4,#22c55e);
  --grad3:linear-gradient(135deg,#f59e0b,#ec4899);
  --grad4:linear-gradient(135deg,#ec4899,#7c3aed);
}
*{margin:0;padding:0;box-sizing:border-box}
html,body{height:100%;font-family:'Inter',sans-serif;background:var(--bg);color:var(--text);overflow:hidden}
body::before{content:'';position:fixed;inset:0;background:
  radial-gradient(ellipse 80% 60% at 20% 10%,rgba(124,58,237,.15) 0%,transparent 60%),
  radial-gradient(ellipse 60% 50% at 80% 80%,rgba(59,130,246,.12) 0%,transparent 60%),
  radial-gradient(ellipse 50% 40% at 50% 50%,rgba(6,182,212,.06) 0%,transparent 60%);
  pointer-events:none;z-index:0}

/* ─── LAYOUT ─── */
.app{display:flex;height:100vh;position:relative;z-index:1}

/* ─── SIDEBAR ─── */
.sidebar{width:240px;height:100vh;background:rgba(18,18,26,.95);border-right:1px solid var(--border);
  backdrop-filter:blur(20px);display:flex;flex-direction:column;padding:24px 14px;flex-shrink:0;overflow:hidden}
.logo{display:flex;align-items:center;gap:10px;padding:0 10px 24px;border-bottom:1px solid var(--border);margin-bottom:16px}
.logo-icon{width:40px;height:40px;background:var(--grad1);border-radius:12px;display:flex;align-items:center;
  justify-content:center;font-size:20px;animation:pulseglow 2s ease-in-out infinite;flex-shrink:0}
@keyframes pulseglow{0%,100%{box-shadow:0 0 20px rgba(124,58,237,.5)}50%{box-shadow:0 0 40px rgba(124,58,237,.9),0 0 60px rgba(59,130,246,.4)}}
.logo-text{font-size:20px;font-weight:800;letter-spacing:-.5px}
.logo-text span{background:var(--grad1);-webkit-background-clip:text;-webkit-text-fill-color:transparent}

.nav-section{font-size:10px;font-weight:600;text-transform:uppercase;letter-spacing:1.5px;color:var(--muted);
  padding:0 10px;margin:12px 0 6px}
.nav-item{display:flex;align-items:center;gap:12px;padding:11px 12px;border-radius:12px;color:var(--muted);
  cursor:pointer;font-size:14px;font-weight:500;transition:all .25s cubic-bezier(.34,1.56,.64,1);margin-bottom:3px;position:relative;overflow:hidden;user-select:none}
.nav-item::before{content:'';position:absolute;inset:0;background:var(--grad1);opacity:0;transition:opacity .2s;border-radius:12px}
.nav-item:hover::before{opacity:.1}
.nav-item:hover{color:var(--text)}
.nav-item.active::before{opacity:.15}
.nav-item.active{color:var(--purple-light)}
.nav-item i{width:18px;text-align:center;font-size:15px;position:relative;z-index:1}
.nav-item span{position:relative;z-index:1;flex:1}
.nav-badge{margin-left:auto;background:var(--grad1);color:white;font-size:10px;font-weight:700;
  padding:2px 7px;border-radius:20px;position:relative;z-index:1}

.sidebar-footer{margin-top:auto;padding:14px 10px;border-top:1px solid var(--border)}
.user-card{display:flex;align-items:center;gap:10px}
.user-avatar{width:36px;height:36px;background:var(--grad4);border-radius:50%;display:flex;align-items:center;
  justify-content:center;font-weight:700;font-size:13px;flex-shrink:0}
.user-name{font-size:13px;font-weight:600}
.user-level{font-size:11px;color:var(--muted)}

.unlock-pop{
  position:fixed;bottom:30px;right:30px;background:#7c3aed;color:white;
  padding:14px 18px;border-radius:10px;font-weight:600;
  animation:slideIn .4s ease;z-index:250;
}
@keyframes slideIn{from{transform:translateX(120%)}to{transform:translateX(0)}}

/* ─── MAIN ─── */
.main{flex:1;display:flex;flex-direction:column;overflow:hidden}
.navbar{padding:16px 28px;background:rgba(18,18,26,.8);border-bottom:1px solid var(--border);
  backdrop-filter:blur(20px);display:flex;align-items:center;justify-content:space-between;flex-shrink:0;z-index:5}
.navbar-left h1{font-size:20px;font-weight:700;letter-spacing:-.5px}
.navbar-left p{font-size:12px;color:var(--muted);margin-top:2px}
.navbar-right{display:flex;align-items:center;gap:10px}
.btn{padding:9px 16px;border-radius:10px;font-size:13px;font-weight:600;cursor:pointer;border:none;
  transition:all .2s;display:flex;align-items:center;gap:7px;font-family:inherit}
.btn-primary{background:var(--grad1);color:white;box-shadow:0 4px 15px rgba(124,58,237,.4)}
.btn-primary:hover{transform:translateY(-1px);box-shadow:0 6px 20px rgba(124,58,237,.6)}
.btn-ghost{background:rgba(255,255,255,.06);color:var(--muted);border:1px solid var(--border)}
.btn-ghost:hover{background:rgba(255,255,255,.1);color:var(--text)}
.btn-danger{background:rgba(239,68,68,.15);color:var(--red);border:1px solid rgba(239,68,68,.3)}
.btn-danger:hover{background:rgba(239,68,68,.25)}
.icon-btn{width:36px;height:36px;border-radius:10px;background:rgba(255,255,255,.06);border:1px solid var(--border);
  display:flex;align-items:center;justify-content:center;cursor:pointer;color:var(--muted);transition:all .2s;position:relative}
.icon-btn:hover{background:rgba(255,255,255,.1);color:var(--text)}
.notif-dot{width:7px;height:7px;background:var(--red);border-radius:50%;position:absolute;top:6px;right:6px;border:2px solid var(--surface)}

.page-content{flex:1;overflow-y:auto;padding:24px 28px}
.page-content::-webkit-scrollbar{width:5px}
.page-content::-webkit-scrollbar-thumb{background:rgba(255,255,255,.1);border-radius:10px}

/* ─── PAGES ─── */
.page{display:none;animation:fadeIn .3s ease}
.page.active{display:block}
@keyframes fadeIn{from{opacity:0;transform:translateY(12px)}to{opacity:1;transform:translateY(0)}}

/* ─── CARDS ─── */
.card{background:var(--surface);border:1px solid var(--border);border-radius:18px;padding:22px;
  position:relative;overflow:hidden;transition:box-shadow .3s;animation:cardEntrance .4s ease both}
.card:hover{box-shadow:0 8px 40px rgba(0,0,0,.3)}
.card-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:18px}
.card-title{font-size:15px;font-weight:700;display:flex;align-items:center;gap:8px}
.card-title-icon{width:28px;height:28px;border-radius:8px;display:flex;align-items:center;justify-content:center;font-size:13px}
.card-action{font-size:12px;color:var(--purple-light);cursor:pointer;font-weight:600}
.card-action:hover{text-decoration:underline}

@keyframes cardEntrance{
  from{opacity:0;transform:translateY(20px) scale(.96)}
  to{opacity:1;transform:translateY(0) scale(1)}
}

/* ─── STATS ROW ─── */
.stats-row{display:grid;grid-template-columns:repeat(4,1fr);gap:14px;margin-bottom:20px}
.stat-card{background:var(--surface);border:1px solid var(--border);border-radius:16px;padding:18px;
  position:relative;overflow:hidden;transition:all .2s;cursor:default;
  animation:floatCard 4s ease-in-out infinite}
.stat-card:nth-child(1){animation-delay:0s}
.stat-card:nth-child(2){animation-delay:.5s}
.stat-card:nth-child(3){animation-delay:1s}
.stat-card:nth-child(4){animation-delay:1.5s}
.stat-card:hover{transform:translateY(-3px);box-shadow:0 12px 40px rgba(0,0,0,.4);animation:none}
.stat-card::after{content:'';position:absolute;top:0;right:0;width:70px;height:70px;border-radius:50%;opacity:.12;transform:translate(20px,-20px)}
.stat-card.c-purple::after{background:var(--purple)}
.stat-card.c-blue::after{background:var(--blue)}
.stat-card.c-green::after{background:var(--green)}
.stat-card.c-amber::after{background:var(--amber)}
.stat-icon{width:40px;height:40px;border-radius:11px;display:flex;align-items:center;justify-content:center;font-size:18px;margin-bottom:12px}
.stat-icon.c-purple{background:rgba(124,58,237,.2);color:var(--purple-light)}
.stat-icon.c-blue{background:rgba(59,130,246,.2);color:var(--blue)}
.stat-icon.c-green{background:rgba(34,197,94,.2);color:var(--green)}
.stat-icon.c-amber{background:rgba(245,158,11,.2);color:var(--amber)}
.stat-value{font-size:28px;font-weight:800;letter-spacing:-1px;line-height:1}
.stat-label{font-size:12px;color:var(--muted);margin-top:5px;font-weight:500}
.stat-delta{font-size:11px;margin-top:8px;font-weight:600;display:flex;align-items:center;gap:3px}
.stat-delta.up{color:var(--green)}.stat-delta.down{color:var(--red)}

@keyframes floatCard{0%,100%{transform:translateY(0)}50%{transform:translateY(-6px)}}

/* ─── GRID ─── */
.grid-2{display:grid;grid-template-columns:1fr 1fr;gap:16px}
.grid-3{display:grid;grid-template-columns:1fr 1fr 1fr;gap:16px}
.grid-main{display:grid;grid-template-columns:1fr 1fr 320px;gap:16px;align-items:start}
.grid-main > .card,.grid-main > div{align-self:start}
.col-span-2{grid-column:1/-1}

/* ─── HABIT LIST ─── */
.habit-item{display:flex;align-items:center;gap:13px;padding:13px;border-radius:13px;
  background:rgba(255,255,255,.03);border:1px solid var(--border);margin-bottom:9px;
  transition:all .25s cubic-bezier(.34,1.56,.64,1);cursor:pointer;user-select:none}
.habit-item:hover{background:rgba(255,255,255,.06);transform:translateX(6px) scale(1.01)}
.habit-item.done{opacity:.55}
.habit-item.done .habit-name{text-decoration:line-through;color:var(--muted)}
.habit-check{width:26px;height:26px;border-radius:50%;border:2px solid var(--border);
  display:flex;align-items:center;justify-content:center;flex-shrink:0;transition:all .3s}
.habit-item.done .habit-check{background:var(--green);border-color:var(--green);color:white;font-size:11px}
.habit-info{flex:1;min-width:0}
.habit-name{font-size:14px;font-weight:600}
.habit-meta{font-size:11px;color:var(--muted);margin-top:2px}
.habit-streak{display:flex;align-items:center;gap:4px;font-size:12px;font-weight:700;color:var(--amber);flex-shrink:0}
.h-dot{width:8px;height:8px;border-radius:50%;flex-shrink:0}

/* ─── MANAGE HABITS ─── */
.manage-habit{display:flex;align-items:center;gap:13px;padding:14px 16px;border-radius:14px;
  background:var(--surface);border:1px solid var(--border);margin-bottom:10px;transition:all .2s}
.manage-habit:hover{border-color:rgba(124,58,237,.3)}
.mh-info{flex:1}
.mh-name{font-size:14px;font-weight:600}
.mh-tags{display:flex;gap:6px;margin-top:5px;flex-wrap:wrap}
.tag{padding:3px 9px;border-radius:10px;font-size:11px;font-weight:600}
.mh-actions{display:flex;gap:7px}
.mh-btn{width:32px;height:32px;border-radius:8px;border:1px solid var(--border);background:rgba(255,255,255,.05);
  display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s;color:var(--muted);font-size:13px}
.mh-btn:hover{background:rgba(255,255,255,.1);color:var(--text)}
.mh-btn.del:hover{background:rgba(239,68,68,.15);border-color:rgba(239,68,68,.3);color:var(--red)}

/* ─── STREAK ─── */
.streak-display{text-align:center;padding:16px 0}
.streak-fire{font-size:52px;animation:bounce 2s ease-in-out infinite}
@keyframes bounce{0%,100%{transform:translateY(0)}50%{transform:translateY(-8px)}}
.streak-number{font-size:60px;font-weight:900;letter-spacing:-3px;background:var(--grad3);
  -webkit-background-clip:text;-webkit-text-fill-color:transparent;line-height:1}
.streak-label{font-size:13px;color:var(--muted);margin-top:4px}
.streak-best{font-size:12px;color:var(--amber);margin-top:8px;font-weight:600}
.week-dots{display:flex;gap:5px;justify-content:center;margin-top:16px}
.wdot{width:28px;height:28px;border-radius:8px;display:flex;align-items:center;justify-content:center;
  font-size:10px;font-weight:600;color:var(--muted);background:rgba(255,255,255,.05)}
.wdot.on{background:var(--grad3);color:white}

/* ─── RING ─── */
.ring-wrap{display:flex;justify-content:center;position:relative;margin:8px 0 16px}
.ring-wrap svg{transform:rotate(-90deg)}
.ring-center{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center}
.ring-pct{font-size:26px;font-weight:900;letter-spacing:-1px}
.ring-sub{font-size:11px;color:var(--muted)}
.ring-stat{display:flex;align-items:center;gap:10px;margin-bottom:12px}
.rs-dot{width:9px;height:9px;border-radius:50%;flex-shrink:0}
.rs-info{flex:1}
.rs-name{font-size:12px;font-weight:600}
.rs-bar-w{height:5px;background:rgba(255,255,255,.08);border-radius:10px;margin-top:4px}
.rs-bar{height:100%;border-radius:10px;transition:width 1s ease}
.rs-val{font-size:12px;font-weight:700}

/* ─── XP ─── */
.level-circle{width:48px;height:48px;background:var(--grad1);border-radius:50%;display:flex;align-items:center;
  justify-content:center;font-size:19px;font-weight:900;box-shadow:0 0 20px rgba(124,58,237,.5)}
.xp-bar-w{height:9px;background:rgba(255,255,255,.08);border-radius:10px;overflow:hidden;margin:10px 0 6px}
.xp-bar-f{height:100%;border-radius:10px;
  background:linear-gradient(90deg,#7c3aed,#a855f7,#3b82f6,#7c3aed);
  background-size:200% 100%;
  animation:shimmer 2s linear infinite;
  box-shadow:0 0 10px rgba(124,58,237,.5);transition:width 1.5s cubic-bezier(.22,1,.36,1)}
@keyframes shimmer{0%{background-position:-200% 0}100%{background-position:200% 0}}
.badge-row{display:flex;gap:8px;margin-top:14px}
.badge-item{flex:1;background:rgba(255,255,255,.04);border:1px solid var(--border);border-radius:11px;
  padding:9px 6px;text-align:center;cursor:pointer;transition:all .2s}
.badge-item:hover{background:rgba(255,255,255,.08);transform:scale(1.05)}
.badge-item.locked{opacity:.3;filter:grayscale(1)}
.badge-item .be{font-size:20px}
.badge-item p{font-size:10px;color:var(--muted);margin-top:3px;font-weight:600}

/* ─── HEATMAP ─── */
.heatmap-grid{display:flex;gap:3px}
.hm-labels{display:flex;flex-direction:column;gap:3px;margin-right:4px}
.hm-dl{font-size:10px;color:var(--muted);height:13px;display:flex;align-items:center;font-weight:500}
.hm-weeks{display:flex;gap:3px;flex:1;overflow:hidden}
.hm-week{display:flex;flex-direction:column;gap:3px}
.hm-cell{width:13px;height:13px;border-radius:3px;background:rgba(255,255,255,.05);cursor:pointer;transition:all .2s;position:relative}
.hm-cell:hover{transform:scale(1.5);z-index:5}
.hm-cell[data-l="1"]{background:rgba(124,58,237,.3)}
.hm-cell[data-l="2"]{background:rgba(124,58,237,.55)}
.hm-cell[data-l="3"]{background:rgba(124,58,237,.8)}
.hm-cell[data-l="4"]{background:#7c3aed;box-shadow:0 0 5px rgba(124,58,237,.6)}
.hm-legend{display:flex;align-items:center;gap:5px;margin-top:10px;justify-content:flex-end;font-size:11px;color:var(--muted)}
.hm-legend-cells{display:flex;gap:3px}

/* ─── AI INSIGHT ─── */
.ai-bubble{background:linear-gradient(135deg,rgba(124,58,237,.15),rgba(59,130,246,.1));
  border:1px solid rgba(124,58,237,.3);border-radius:14px;padding:16px}
.ai-badge{display:inline-flex;align-items:center;gap:6px;background:var(--grad1);color:white;
  font-size:11px;font-weight:700;padding:3px 10px;border-radius:20px;margin-bottom:10px}
.ai-badge::before{content:'';width:5px;height:5px;background:white;border-radius:50%;animation:blink 1.4s ease-in-out infinite}
@keyframes blink{0%,100%{opacity:1}50%{opacity:.3}}
.ai-text{font-size:13px;line-height:1.7;color:rgba(240,240,255,.85)}
.chips{display:flex;gap:7px;flex-wrap:wrap;margin-top:12px}
.chip{padding:4px 11px;border-radius:20px;font-size:11px;font-weight:600;cursor:pointer;transition:all .2s}
.chip.purple{background:rgba(124,58,237,.2);color:var(--purple-light);border:1px solid rgba(124,58,237,.3)}
.chip.blue{background:rgba(59,130,246,.2);color:var(--blue);border:1px solid rgba(59,130,246,.3)}
.chip.green{background:rgba(34,197,94,.2);color:var(--green);border:1px solid rgba(34,197,94,.3)}
.chip.amber{background:rgba(245,158,11,.2);color:var(--amber);border:1px solid rgba(245,158,11,.3)}
.chip:hover{transform:scale(1.05)}

/* ─── ANALYTICS ─── */
.donut-wrap{display:flex;align-items:center;gap:20px}
.donut-legend{flex:1}
.donut-leg-item{display:flex;align-items:center;gap:8px;margin-bottom:10px}
.dl-dot{width:10px;height:10px;border-radius:50%;flex-shrink:0}
.dl-name{font-size:13px;font-weight:600;flex:1}
.dl-pct{font-size:13px;font-weight:700}

/* ─── ACHIEVEMENTS ─── */
.ach-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:14px}
.ach-card{background:var(--surface);border:1px solid var(--border);border-radius:16px;padding:18px;
  text-align:center;transition:all .3s;position:relative;overflow:hidden}
.ach-card:hover{transform:translateY(-4px);box-shadow:0 12px 40px rgba(0,0,0,.4)}
.ach-card.unlocked{border-color:rgba(124,58,237,.4)}
.ach-card.unlocked::before{content:'';position:absolute;inset:0;background:linear-gradient(135deg,rgba(124,58,237,.08),rgba(59,130,246,.05));pointer-events:none}
.ach-card.locked{opacity:.5}
.ach-icon{font-size:36px;margin-bottom:10px;display:block}
.ach-name{font-size:14px;font-weight:700;margin-bottom:4px}
.ach-desc{font-size:11px;color:var(--muted);line-height:1.5}
.ach-badge{display:inline-flex;align-items:center;gap:4px;font-size:10px;font-weight:700;padding:3px 8px;border-radius:10px;margin-top:8px}
.ach-badge.gold{background:rgba(245,158,11,.2);color:var(--amber);border:1px solid rgba(245,158,11,.3)}
.ach-badge.silver{background:rgba(148,163,184,.2);color:#94a3b8;border:1px solid rgba(148,163,184,.3)}
.ach-badge.bronze{background:rgba(180,120,80,.2);color:#b47850;border:1px solid rgba(180,120,80,.3)}
.ach-badge.locked-b{background:rgba(255,255,255,.05);color:var(--muted);border:1px solid var(--border)}
.ach-progress-w{height:4px;background:rgba(255,255,255,.08);border-radius:10px;margin-top:10px}
.ach-progress{height:100%;border-radius:10px;background:var(--grad1);transition:width 1s ease}

/* ─── INSIGHTS PAGE ─── */
.insight-card-big{background:var(--surface);border:1px solid var(--border);border-radius:18px;padding:22px;margin-bottom:14px;transition:all .2s}
.insight-card-big:hover{border-color:rgba(124,58,237,.3);box-shadow:0 4px 20px rgba(0,0,0,.2)}
.insight-header{display:flex;align-items:flex-start;gap:14px;margin-bottom:12px}
.insight-emoji{font-size:28px;flex-shrink:0}
.insight-type{font-size:11px;font-weight:700;text-transform:uppercase;letter-spacing:.5px;margin-bottom:4px}
.insight-title{font-size:15px;font-weight:700}
.insight-body{font-size:13px;color:rgba(240,240,255,.75);line-height:1.7}

/* ─── MODAL ─── */
.overlay{position:fixed;inset:0;background:rgba(0,0,0,.75);backdrop-filter:blur(8px);
  display:flex;align-items:center;justify-content:center;z-index:100;opacity:0;pointer-events:none;transition:opacity .3s}
.overlay.open{opacity:1;pointer-events:all}
.modal{background:var(--surface2);border:1px solid var(--border);border-radius:22px;padding:28px;width:420px;
  transform:scale(.9) translateY(20px);transition:transform .3s cubic-bezier(.34,1.56,.64,1)}
.overlay.open .modal{transform:scale(1) translateY(0)}
.modal-title{font-size:19px;font-weight:700;margin-bottom:6px}
.modal-sub{font-size:13px;color:var(--muted);margin-bottom:22px}
.form-group{margin-bottom:14px}
.form-label{font-size:11px;font-weight:600;color:var(--muted);margin-bottom:7px;display:block;text-transform:uppercase;letter-spacing:.5px}
.form-input{width:100%;background:rgba(255,255,255,.05);border:1px solid var(--border);border-radius:11px;
  padding:11px 13px;color:var(--text);font-family:inherit;font-size:14px;outline:none;transition:border-color .2s}
.form-input:focus{border-color:var(--purple)}
.form-select{width:100%;background:rgba(255,255,255,.05);border:1px solid var(--border);border-radius:11px;
  padding:11px 13px;color:var(--text);font-family:inherit;font-size:14px;outline:none}
.form-select option{background:var(--surface2)}
.emoji-row{display:flex;gap:7px;flex-wrap:wrap}
.ep{width:38px;height:38px;border-radius:9px;background:rgba(255,255,255,.05);border:1px solid var(--border);
  display:flex;align-items:center;justify-content:center;font-size:19px;cursor:pointer;transition:all .2s}
.ep:hover,.ep.sel{background:rgba(124,58,237,.2);border-color:var(--purple)}
.color-row{display:flex;gap:7px}
.cp{width:26px;height:26px;border-radius:50%;cursor:pointer;transition:transform .2s;border:2px solid transparent}
.cp:hover,.cp.sel{transform:scale(1.2);border-color:white}
.modal-actions{display:flex;gap:8px;margin-top:20px}

/* ─── DAY PICKER ─── */
.day-btn{padding:6px 10px;border-radius:8px;background:rgba(255,255,255,.05);border:1px solid var(--border);
  font-size:12px;cursor:pointer;transition:.2s;color:var(--text)}
.day-btn:hover{background:rgba(124,58,237,.2);border-color:var(--purple)}
.day-btn.active{background:var(--grad1);color:white;border-color:transparent}

/* ─── TOAST ─── */
.toast{position:fixed;bottom:22px;right:22px;background:var(--surface2);border:1px solid var(--border);
  border-radius:13px;padding:13px 16px;display:flex;align-items:center;gap:10px;font-size:13px;font-weight:600;
  box-shadow:0 8px 30px rgba(0,0,0,.4);transform:translateY(80px);opacity:0;transition:all .4s cubic-bezier(.34,1.56,.64,1);z-index:200}
.toast.show{transform:translateY(0);opacity:1}

/* ─── CONFETTI ─── */
.confetti{position:fixed;width:8px;height:8px;border-radius:2px;pointer-events:none;z-index:300;
  animation:cfall 1.5s ease-in forwards}
@keyframes cfall{0%{transform:translateY(-20px) rotate(0deg);opacity:1}100%{transform:translateY(100vh) rotate(720deg);opacity:0}}

/* ─── PARTICLES ─── */
.particle{position:fixed;border-radius:50%;pointer-events:none;z-index:0;animation:floatup linear infinite;opacity:0}
@keyframes floatup{0%{transform:translateY(100vh);opacity:0}10%{opacity:.6}90%{opacity:.3}100%{transform:translateY(-100px);opacity:0}}

/* ─── SCHEDULE ─── */
.schedule-grid{display:grid;grid-template-columns:repeat(7,1fr);gap:10px}
.sched-day{background:var(--surface);border:1px solid var(--border);border-radius:14px;padding:14px 10px;text-align:center}
.sched-day.today{border-color:rgba(124,58,237,.4);background:rgba(124,58,237,.05)}
.sched-day-name{font-size:11px;font-weight:600;color:var(--muted);margin-bottom:6px;text-transform:uppercase;letter-spacing:.5px}
.sched-date{font-size:20px;font-weight:800;margin-bottom:10px}
.sched-habit{font-size:11px;padding:4px 6px;border-radius:6px;margin-bottom:4px;text-align:left;font-weight:600}

/* ─── CALENDAR ─── */
.calendar-grid{display:grid;grid-template-columns:repeat(7,1fr);gap:8px}
.calendar-day{height:60px;border-radius:10px;background:rgba(255,255,255,.05);
  display:flex;align-items:center;justify-content:center;font-size:12px}
.calendar-day.active{background:#7c3aed}

/* ─── GREETING BANNER ─── */
.greeting-banner{
  background:linear-gradient(135deg,rgba(124,58,237,.18),rgba(59,130,246,.12));
  border:1px solid rgba(124,58,237,.25);border-radius:18px;padding:20px 24px;margin-bottom:20px;
  display:flex;align-items:center;justify-content:space-between;
  animation:greetSlide .6s cubic-bezier(.34,1.56,.64,1);position:relative;overflow:hidden;
}
.greeting-banner::before{content:'';position:absolute;top:-40px;right:-40px;width:160px;height:160px;
  background:radial-gradient(circle,rgba(124,58,237,.3),transparent 70%);pointer-events:none}
@keyframes greetSlide{from{opacity:0;transform:translateY(-16px)}to{opacity:1;transform:translateY(0)}}
.greeting-text h2{font-size:22px;font-weight:800;letter-spacing:-.5px;
  background:var(--grad1);-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.greeting-text p{font-size:13px;color:var(--muted);margin-top:4px}
.greeting-emoji{font-size:44px;animation:waveBig 2s ease-in-out infinite}
@keyframes waveBig{
  0%,100%{transform:rotate(0deg) scale(1)}25%{transform:rotate(15deg) scale(1.1)}
  50%{transform:rotate(-10deg) scale(1.05)}75%{transform:rotate(12deg) scale(1.08)}
}

/* ─── AUTH SCREEN ─── */
.auth-screen{position:fixed;inset:0;z-index:500;background:var(--bg);
  display:flex;align-items:center;justify-content:center;animation:fadeIn .4s ease}
.auth-screen.hidden{display:none}
.auth-particles-wrap{position:absolute;inset:0;overflow:hidden;pointer-events:none}
.auth-card{background:rgba(18,18,26,.95);border:1px solid rgba(124,58,237,.25);border-radius:24px;
  padding:40px 36px;width:420px;position:relative;z-index:2;
  box-shadow:0 32px 80px rgba(0,0,0,.6),0 0 60px rgba(124,58,237,.15);
  animation:authPop .5s cubic-bezier(.34,1.56,.64,1)}
@keyframes authPop{from{opacity:0;transform:scale(.85) translateY(30px)}to{opacity:1;transform:scale(1) translateY(0)}}
.auth-logo{display:flex;align-items:center;gap:12px;justify-content:center;margin-bottom:32px}
.auth-logo-icon{width:52px;height:52px;background:var(--grad1);border-radius:16px;
  display:flex;align-items:center;justify-content:center;font-size:26px;animation:pulseglow 2s ease-in-out infinite}
.auth-logo-text{font-size:26px;font-weight:900;letter-spacing:-.5px}
.auth-logo-text span{background:var(--grad1);-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.auth-title{font-size:20px;font-weight:800;text-align:center;margin-bottom:4px}
.auth-sub{font-size:13px;color:var(--muted);text-align:center;margin-bottom:26px}
.auth-tabs{display:flex;background:rgba(255,255,255,.04);border-radius:12px;padding:4px;margin-bottom:24px}
.auth-tab{flex:1;padding:9px;border-radius:9px;text-align:center;font-size:13px;font-weight:600;
  color:var(--muted);cursor:pointer;transition:all .25s}
.auth-tab.active{background:var(--grad1);color:white;box-shadow:0 4px 12px rgba(124,58,237,.4)}
.auth-form{display:none}
.auth-form.active{display:block;animation:fadeIn .3s ease}
.auth-input-wrap{position:relative;margin-bottom:14px}
.auth-input-wrap i{position:absolute;left:14px;top:50%;transform:translateY(-50%);color:var(--muted);font-size:14px;pointer-events:none}
.auth-input{width:100%;background:rgba(255,255,255,.05);border:1px solid var(--border);border-radius:12px;
  padding:13px 14px 13px 40px;color:var(--text);font-family:inherit;font-size:14px;outline:none;
  transition:border-color .2s,box-shadow .2s}
.auth-input:focus{border-color:var(--purple);box-shadow:0 0 0 3px rgba(124,58,237,.15)}
.auth-input::placeholder{color:var(--muted)}
.auth-btn{width:100%;padding:14px;border-radius:12px;background:var(--grad1);color:white;
  font-family:inherit;font-size:15px;font-weight:700;border:none;cursor:pointer;margin-top:6px;
  box-shadow:0 4px 20px rgba(124,58,237,.5);transition:all .25s;position:relative;overflow:hidden}
.auth-btn::after{content:'';position:absolute;inset:0;background:linear-gradient(135deg,rgba(255,255,255,.15),transparent);opacity:0;transition:opacity .2s}
.auth-btn:hover{transform:translateY(-2px);box-shadow:0 8px 30px rgba(124,58,237,.7)}
.auth-btn:hover::after{opacity:1}
.auth-btn:active{transform:translateY(0)}
.auth-divider{display:flex;align-items:center;gap:10px;margin:18px 0;font-size:12px;color:var(--muted)}
.auth-divider::before,.auth-divider::after{content:'';flex:1;height:1px;background:var(--border)}
.auth-social{display:flex;gap:10px;margin-bottom:20px}
.auth-social-btn{flex:1;padding:11px;border-radius:11px;background:rgba(255,255,255,.05);border:1px solid var(--border);
  color:var(--text);font-size:13px;font-weight:600;cursor:pointer;display:flex;align-items:center;
  justify-content:center;gap:8px;transition:all .2s;font-family:inherit}
.auth-social-btn:hover{background:rgba(255,255,255,.1);border-color:rgba(255,255,255,.15)}
.auth-error{background:rgba(239,68,68,.12);border:1px solid rgba(239,68,68,.3);border-radius:10px;
  padding:10px 12px;font-size:13px;color:var(--red);margin-bottom:14px;display:none;animation:shake .3s ease}
@keyframes shake{0%,100%{transform:translateX(0)}25%{transform:translateX(-6px)}75%{transform:translateX(6px)}}
.auth-error.show{display:block}
.strength-bar-w{height:4px;background:rgba(255,255,255,.08);border-radius:10px;margin-top:6px;margin-bottom:2px}
.strength-bar{height:100%;border-radius:10px;width:0%;transition:width .3s,background .3s}
.strength-label{font-size:10px;color:var(--muted);margin-bottom:10px}

/* ─── RESPONSIVE ─── */
@media(max-width:1100px){.grid-main{grid-template-columns:1fr 1fr}.stats-row{grid-template-columns:repeat(2,1fr)}}
@media(max-width:700px){.sidebar{display:none}.page-content{padding:14px}.stats-row{grid-template-columns:1fr 1fr}}